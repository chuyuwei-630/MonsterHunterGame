class Diamond {
public:
    string name;
    string description;
    virtual void applyEffect(Player &player) = 0;
    virtual ~Diamond() {}
};

class HealDiamond : public Diamond {
public:
    HealDiamond() { name = "治療鑽石"; description = "回復 30 HP"; }
    void applyEffect(Player &player) override {
        player.hp = min(player.hp + 30, player.maxHp);
        cout << "💖 " << description << endl;
    }
};

class TrapDiamond : public Diamond {
public:
    TrapDiamond() { name = "陷阱鑽石"; description = "扣除 20 HP"; }
    void applyEffect(Player &player) override {
        player.hp = max(player.hp - 20, 0);
        cout << "💥 " << description << endl;
    }
};

class ExpDiamond : public Diamond {
public:
    ExpDiamond() { name = "經驗鑽石"; description = "獲得 50 EXP"; }
    void applyEffect(Player &player) override {
        player.gainExp(50);
    }
};

class GoldDiamond : public Diamond {
public:
    GoldDiamond() { name = "金幣鑽石"; description = "獲得 200 金幣（未實作金幣系統）"; }
    void applyEffect(Player &player) override {
        cout << "💰 " << description << endl;
    }
};

class EmptyDiamond : public Diamond {
public:
    EmptyDiamond() { name = "空包彈"; description = "什麼也沒有發生。"; }
    void applyEffect(Player &player) override {
        cout << "🤷‍♂️ " << description << endl;
    }
};

class LevelUpDiamond : public Diamond {
public:
    LevelUpDiamond() { name = "升級鑽石"; description = "立即升級一次！"; }
    void applyEffect(Player &player) override {
        player.gainExp(player.maxExp); // 直接升等
    }
};
